# DFAM-API server

## Usage

### Configuration

Most configuration lives in `security.json`. A `security.json.example` file is provided as a starting point.

### Running the server

To run the server, run:

```
DFAM_API_PORT=<port> npm start
```

To view the Swagger UI interface:

```
open http://localhost:<port>/docs
```

## Development Notes

This server was generated by the
[swagger-codegen](https://github.com/swagger-api/swagger-codegen) project.  The
general project structure has not been changed: controllers in `controllers`
read the parameters, dispatch them to `services`, and format the results.

This server uses [Sequelize](https://github.com/sequelize/sequelize) for
database access. When possible, Sequelize models are preferred over hand-built
SQL queries.

See the `autogen/README` file for more information about the swagger API and
Sequelize model generation.

### npm-watch

`npm-watch` can be used to restart the server when changes are made to any
javascript files.

```
DFAM_API_PORT=<port> npm run watch start
```

### eslint

This project uses `eslint` for code style and tidying. A custom npm script has
been set up for convenience:

```
npm run lint
```

### Testing

Rigorous API tests have not yet been implemented. A
[Postman](https://getpostman.com) collection is maintained at
`api/api.postman_collection.json` for developement and testing.
